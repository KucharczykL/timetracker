---
kind: pipeline
type: docker
name: build image

steps:
- name: build container
  image: plugins/docker
  settings:
    repo: registry.kucharczyk.xyz/timetracker
    environment:
      VERSION_NUMBER: $(git describe --tags --abbrev=0)
    tags:
      - latest
      - $VERSION_NUMBER
trigger:
  event:
  - push
  - cron
  exclude:
    - pull_request